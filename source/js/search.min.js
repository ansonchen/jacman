var searchPost=function(e,t,i){var n='<div class="search-result-list">',o=e.trim().toLowerCase().split(/[\s\-]+/);i.innerHTML="",e.trim().length<=0||(t.forEach(function(e){var t=!0;e.title&&""!==e.title.trim()||(e.title="Untitled");var a=e.title.trim().toLowerCase(),r=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),s=e.url,l=-1,c=-1,f=-1;if(""!==r?o.forEach(function(e,i){l=a.indexOf(e),c=r.indexOf(e),0>l&&0>c?t=!1:(0>c&&(c=0),0==i&&(f=c))}):t=!1,t){n+="<article class='post-expand post' itemprop='articleBody'><header class='article-info clearfix'><h1 itemprop='name'><a href='"+s+"' class='search-result-title'>"+a+"</a></h1></header><div class='article-content'>";var d=e.content.trim().replace(/<[^>]+>/g,"");if(f>=0){var p=f-20,h=f+80;0>p&&(p=0),0==p&&(h=100),h>d.length&&(h=d.length);var u=d.substr(p,h);o.forEach(function(e){var t=new RegExp(e,"gi");u=u.replace(t,'<code class="search-keyword">'+e+"</code>")}),n+='<p class="search-result">'+u+"...</p>"}n+="</div><footer class='article-footer clearfix'></footer></article>"}}),n+="</div>",i.innerHTML=n)},searchFunc=function(e,t,i){"use strict";$.ajax({url:e,dataType:"xml",success:function(e){var n=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),o=document.getElementById(t),a=document.getElementById(i),r=location.search.match(/q=([^&]*)(&|$)/);if(r&&r[1]){var s=decodeURIComponent(r[1]);searchPost(s,n,a),o.value=s}o.addEventListener("input",function(){var e=this.value;searchPost(e,n,a)})}})};